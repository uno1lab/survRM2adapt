[{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1 Introduction","title":"Vignette for survAH package","text":"important objective clinical research investigating safety efficacy new intervention provide quantitative information intervention effect clinical outcomes. quantitative information critical informed treatment decision making balance risks benefits new intervention. studies time--event outcomes clinical endpoints interest, traditional Cox’s hazard ratio (HR) used estimating reporting treatment effect magnitude many decades. However, traditional approach may provided sufficient quantitative information needed informed decision making clinical practice following reasons. First, approach require calculating absolute hazard group order calculate HR, desirable feature statistical point view, makes clinical interpretation difficult. clinical point view, two numbers treatment control groups necessary interpreting -group contrast measure (e.g., difference ratio). Second, proportional hazards assumption correct, interpretation HR obvious affected underlying study-specific censoring time distribution.[1,2] average hazard survival weight (AHSW), can interpreted general censoring-free incidence rate (CFIR), summary measure event time distribution depend underlying study-specific censoring time distribution. approach using AHSW (CFIR) provides two numbers treatment control groups allows us summarize treatment effect magnitude absolute relative terms, enhance clinical interpretation treatment effect time--event outcomes.[3] vignette supplemental documentation survAH package illustrates use functions package compare two groups respect AHSW (CFIR). package made tested R version 4.2.2.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"installation","dir":"Articles","previous_headings":"","what":"2 Installation","title":"Vignette for survAH package","text":"Open R RStudio applications. , copy paste either following scripts command line. install package CRAN: install development version:","code":"install.packages(\"survAH\") install.packages(\"devtools\") #-- if the devtools package has not been installed devtools::install_github(\"uno1lab/survAH\")"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"sample-reconstructed-data","dir":"Articles","previous_headings":"","what":"2 Sample Reconstructed Data","title":"Vignette for survAH package","text":"Throughout vignette, use sample reconstructed data CheckMate214 study reported Motzer et al. [4] data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control). sample reconstructed data CheckMate214 study available survAH package cm214_pfs. load data, copy paste following scripts command line. , time months registration progression-free survival (PFS), status indicator event (1: event, 0: censor), arm treatment assignment indicator (1: Treatment group, 0: Control group). Kaplan-Meier estimates PFS treatment group.  two survival curves showed similar trajectories six months, , difference appeared two groups. -called delayed difference pattern often seen immunotherapy trials. HR based traditional Cox’s method 0.82 (0.95CI: 0.68 0.99, p-value=0.037). Since validity proportional hazards assumption clear study, clear interpretation reported HR. Even proportional hazards assumption seemed reasonable, lack group-specific absolute value regarding hazard makes clinical interpretation treatment effect difficult. example, baseline absolute hazard low, reported HR (0.82) may indicate clinically ignorable treatment effect magnitude. high, even HR closer 1 (e.g., 0.98) may indicate clinically significant treatment effect magnitude.","code":"library(survAH)  nrow(cm214_pfs) #> [1] 847  head(cm214_pfs) #>    time status arm #> 1 0.451      1   1 #> 2 0.451      1   1 #> 3 0.451      1   1 #> 4 0.451      1   1 #> 5 0.451      1   1 #> 6 0.710      1   1"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"average-hazard-with-survival-weight-ahsw","dir":"Articles","previous_headings":"","what":"3 Average Hazard with Survival Weight (AHSW)","title":"Vignette for survAH package","text":"given \\(\\tau,\\) general form average hazard (AH) denoted \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)w(u)du}{\\int_0^\\tau w(u)du},\\] \\(h(t)\\) \\(w(t)\\) hazard function event time \\(T,\\) non-negative weight function, respectively. Let \\(S(t)\\) survival function \\(T.\\) use \\(S(t)\\) weight, gives AHSW \\[ \\eta(t) = \\frac{\\int_0^\\tau h(u)S(u)du}{\\int_0^\\tau S(u)du}.\\] detailed motivation using \\(S(t)\\) \\(w(t)\\) discussed Uno Horiguchi [3]. AHSW clear interpretation average person-time incidence rate given time window \\([0,\\tau].\\) can also called general censoring-free incidence rate (CFIR) contrast conventional person-time incidence rate potentially depends underlying study-specific censoring time distribution. now , simply call AHSW (CFIR) average hazard (AH). AH denoted ratio cumulative incidence probability restricted mean survival time \\(\\tau < \\infty\\): \\[ \\eta(\\tau) = \\frac{1-S(\\tau)}{\\int_0^\\tau S(t)dt}.\\] Let \\(\\hat{S}(t)\\) denote Kaplan-Meier estimator \\(S(t).\\) natural estimator \\(\\eta(\\tau)\\) given \\[ \\hat{\\eta}(\\tau) = \\frac{1-\\hat{S}(\\tau)}{\\int_0^\\tau \\hat{S}(t)dt}.\\] large sample properties standard error formula \\(\\hat{\\eta}(\\tau)\\) given Uno Horiguchi [3].","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"two-sample-comparison-using-ah-and-its-implementation","dir":"Articles","previous_headings":"","what":"4 Two-sample comparison using AH and its implementation","title":"Vignette for survAH package","text":"Let \\(\\eta_{1}(\\tau)\\) \\(\\eta_{0}(\\tau)\\) denote AH treatment group 1 0, respectively. Now, compare two survival curves, using AH. Specifically, consider following two measures capture -group contrast: Difference AH (DAH) \\[ \\eta_{1}(\\tau) - \\eta_{0}(\\tau) \\] Ratio AH (RAH) \\[ \\eta_{1}(\\tau) / \\eta_{0}(\\tau) \\] estimated simply replacing \\(\\eta_{1}(\\tau)\\) \\(\\eta_{0}(\\tau)\\) empirical counterparts (.e., \\(\\hat{\\eta_{1}}(\\tau)\\) \\(\\hat{\\eta_{0}}(\\tau)\\), respectively). inference ratio type metrics, use delta method calculate standard error. Specifically, consider \\(\\log \\{ \\hat{\\eta_{1}}(\\tau)\\}\\) \\(\\log \\{ \\hat{\\eta_{0}}(\\tau)\\}\\) calculate standard error log-AH. calculate confidence interval log-ratio AH, transform back original ratio scale; detailed formula given [4]. procedures show use function, ah2, implement analyses. first argument (time) time--event vector variable. second argument (status) also vector variable length time, elements takes either 1 (event) 0 (event). third argument (arm) vector variable indicate assigned treatment subject; elements vector take either 1 (active treatment arm) 0 (control arm). fourth argument (tau) scalar value specify truncation time point \\({\\tau}\\) AH calculation. \\(\\tau\\) specified ah2, (.e., code looks like ) default \\(\\tau\\) (.e., maximum time point size risk set groups remains least 10) used calculate AH. best confirm size risk set large enough specified \\(\\tau\\) group make sure Kaplan-Meier estimates stable. ah2 function returns AH group results -group contrast measures listed . Note chose 21 months \\(\\tau\\) example. estimated AHs 0.049 (0.95CI: 0.042 0.057) 0.066 (0.95CI: 0.057 0.076) treatment group control group, respectively. ratio difference AH 0.747 (0.95CI: 0.608 0.917, p-value=0.005) -0.017 (0.95CI: -0.029 -0.005, p-value=0.006), respectively.","code":"time   = cm214_pfs$time status = cm214_pfs$status arm    = cm214_pfs$arm ah2(time, status, arm, tau=21) ah2(time, status, arm) obj = ah2(time, status, arm, tau=21) print(obj, digits=3) #>  #> The truncation time: tau = 21 was specified. #>  #> Number of observations:  #>      Total N Event by tau Censor by tau At risk at tau #> arm0     422          225           163             34 #> arm1     425          219           160             46 #>  #>  #> Average Hazard (AH) by arm:  #>            Est. Lower 0.95 Upper 0.95 #> AH (arm0) 0.066      0.057      0.076 #> AH (arm1) 0.049      0.042      0.057 #>  #>  #> Between-group contrast:  #>                                Est. Lower 0.95 Upper 0.95 P-value #> Ratio of AH (arm1/arm0)       0.747      0.608      0.917   0.005 #> Difference of AH (arm1-arm0) -0.017     -0.029     -0.005   0.006"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"5 Conclusions","title":"Vignette for survAH package","text":"illustrated, presented approach using AHSW provides robust reliable quantitative information treatment effect time--event outcomes traditional Cox’s hazard ratio approach. hope AHSW-based approach, along survAH package, helpful clinical researchers providing interpretable quantitative information treatment effect magnitude, ultimately foster better informed decision making.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survAH.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Vignette for survAH package","text":"[1] Uno H, Claggett B, Tian L, et al. (2014). Moving beyond hazard ratio quantifying -group difference survival analysis. Journal clinical oncology : official journal American Society Clinical Oncology 32, 2380-2385. https://doi.org/10.1200/JCO.2014.55.2208 [2] Horiguchi M, Hassett MJ, Uno H (2019). accrual pattern follow-duration affect hazard ratio estimate proportional hazards assumption violated? Oncologist 24(7), 867-871. https://doi.org/10.1634/theoncologist.2018-0141 [3] Uno H Horiguchi M (2023). Ratio difference average hazard survival weight: new measures quantify survival benefit new therapy. Statistics Medicine Online first, 1-17. https://doi.org/10.1002/sim.9651 [4] Motzer RJ, Tannir NM, McDermott DF, et al. (2018). Nivolumab plus ipilimumab versus sunitinib advanced renal-cell carcinoma. New England Journal Medicine 378(14), 1277–1290. https://doi.org/10.1056/NEJMoa1712126","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1 Introduction","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Cancer immunotherapy important treatment option cancer patients, clinical trials evaluate immunotherapy increasingly conducted toward optimizing cancer management. Unlike cytotoxic agents, immunotherapies attack cancer cell directly utilize immune system . unique approach leads possibility delayed treatment effects, successful can deliver long-lasting benefits treated patients. 2020 study\\(^{1}\\) showed , almost cancer phase III randomized controlled trials, log-rank test Cox’s hazard ratio (HR) used testing equality survival functions estimating magnitude treatment effect, respectively. However, log-rank test may powerful enough capture delayed treatment effect often see immunotherapy studies. addition, basis traditional Cox’s HR method proportional hazards (PH) assumption assumes hazard functions two groups constant study time. shown PH assumption hold immunotherapy studies. Therefore, conventional analysis methods using log-rank test HR estimation may suboptimal, development alternative approaches critical successful development immunotherapy. long-term restricted mean survival time (LT-RMST) adaptive (flexible) version LT-RMST proposed possible application immunotherapy studies.\\(^{2-4}\\) vignette, briefly review methods illustrate implement using ltrmst2adapt function survRM2adapt package. package made tested R version 4.2.3.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"installation","dir":"Articles","previous_headings":"","what":"2 Installation","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Open R RStudio applications. , copy paste either following scripts command line. install package CRAN: install development version:","code":"install.packages(\"survRM2adapt\") install.packages(\"devtools\") #-- if the devtools package has not been installed devtools::install_github(\"uno1lab/survRM2adapt\")"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"sample-reconstructed-data","dir":"Articles","previous_headings":"","what":"2 Sample Reconstructed Data","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Throughout vignette, use sample data reconstructed CheckMate214 study reported Motzer et al.\\(^{5}\\) data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control). sample reconstructed data CheckMate214 study available survRM2adapt package cm214_pfs. load data, copy paste following scripts command line. , time months registration progression-free survival (PFS), status indicator event (1: event, 0: censor), arm treatment assignment indicator (1: Treatment group, 0: Control group). Kaplan-Meier estimates PFS treatment group.","code":"library(survRM2adapt)  nrow(cm214_pfs) #> [1] 847  cm214_pfs[1:10,] #>     time status arm #> 1  0.451      1   1 #> 2  0.451      1   1 #> 3  0.451      1   1 #> 4  0.451      1   1 #> 5  0.451      1   1 #> 6  0.710      1   1 #> 7  0.710      1   1 #> 8  0.710      1   1 #> 9  0.919      1   1 #> 10 0.919      1   1"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"long-term-restricted-mean-survival-time-lt-rmst","dir":"Articles","previous_headings":"","what":"3 Long-Term Restricted Mean Survival Time (LT-RMST)","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Let \\(S\\) survival function event time. LT-RMST defined \\[R(\\eta, \\tau) = \\int_\\eta^\\tau S(s)ds,\\] \\([\\eta, \\tau]\\) fixed range within study time \\((0<\\eta<\\tau)\\). \\(R(\\eta, \\tau)\\) can estimated nonparametrically using Kaplan-Meier estimator \\(\\hat{S}\\). can interpretated average survival time time range \\([\\eta, \\tau]\\) (.e., time treatment effect appears specific time \\(\\tau\\)) provide clinically interpretable treatment effect associated long-lasting survival benefit treated patients. Standardized width time window \\([\\eta, \\tau]\\), \\[\\frac{R(\\eta, \\tau)}{\\tau-\\eta}\\] can interpreted average survival probability \\([\\eta, \\tau]\\) average proportion time range spent alive. -group comparison, consider \\[D(\\eta, \\tau) = R_{1}(\\eta, \\tau)-R_{0}(\\eta, \\tau)\\] summary measure magnitude treatment effect. asymptotic properties \\(\\hat{D}(\\eta, \\tau)\\) can seen Zhao et al.\\(^{2}\\)","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"adaptive-long-term-restricted-mean-survival-time-adaptive-lt-rmst","dir":"Articles","previous_headings":"","what":"4 Adaptive Long-Term Restricted Mean Survival Time (adaptive LT-RMST)","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"challenge LT-RMST estimation specifying \\(\\eta\\) approximate time point treatment effect begin appear. proposed adaptive LT-RMST-based test/estimation methods get around limitation.\\(^{4}\\) method modified version LT-RMST test/estimation methods improved flexibility choosing \\(\\eta\\). Specifically, instead choosing one specific value \\(\\eta\\), specify time range set time values \\(\\eta\\) value can included. example, expect treatment effect appear sometime 6 12 months, time range \\(B = \\{b|b \\[6,12]\\}\\) (months) can prespecified. procedure selects one time value \\(\\eta\\) among \\(B\\) can detect treatment effect statistical significance, always time point separation two survival curves. testing null hypothesis using adaptive LT-RMST (.e., \\(H_{0}: D(\\eta, \\tau)=0\\) \\(\\eta \\B\\)), following test statistic used: \\[\\sup_{b \\B} \\left| D(b,\\tau) / \\sqrt{V(W_n(b,\\tau))/n}\\right|.\\] procedure derives reference distribution test statistic using zero-mean Gaussian process covariance function process \\(W_n(\\eta,\\tau) \\B\\) obtain p-value corresponding \\((1-\\alpha)\\) simultaneous confidence bands \\(D(b,\\tau)\\). detailed procedure given full paper.\\(^{4}\\) procedure, largest value \\(\\eta\\), say, \\(\\eta^{*}\\), satisfies \\[\\left|\\hat{D}(\\eta^{*}, \\tau)/\\sqrt{\\hat{V}(W_n(\\eta^{*},\\tau))/n}\\right|=\\sup_{b \\B}\\left|\\hat{D}(b, \\tau)/\\sqrt{\\hat{V}(W_n(b,\\tau))/n}\\right|\\] chosen. \\((1-\\alpha)\\) confidence interval (CI) \\(D(\\eta^{*},\\tau)\\) given \\[\\hat{D}(\\eta^{*}, \\tau) \\pm c_{\\alpha}\\sqrt{\\hat{V}(W_n(\\eta^{*},\\tau))/n},\\] \\(c_{\\alpha}\\) derived using reference distribution.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"implementation-of-long-term-rmst-testestimation-methods","dir":"Articles","previous_headings":"","what":"5 Implementation of Long-Term RMST Test/Estimation Methods","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"procedure shows use function, ltrmst2adapt, implement LT-RMST method pre-specified \\(\\eta\\). first argument (indata) data frame want analyze. 1st column time--event variable, 2nd column event indicator (1=event, 0=censor), 3rd column treatment indicator (1=treatment, 0=control). missing values allowed data matrix. second argument (tau1) integer value indicating lower end time window (\\(\\eta\\)). third argument (tau2) integer value indicating upper end time window (\\(\\tau\\)). fourth argument (seed) integer value random number generation resampling procedures. fixed value specified tau1, ltrmst2adapt function returns RMST time window [\\(\\tau_{1}\\), \\(\\tau_{2}\\)] group results -group contrast measure (difference LT-RMST two groups). estimated LT-RMSTs 4.415 months 4.191 months treatment group control group, respectively. difference LT-RMSTs 0.224 months (95% CI: -0.209 0.657, p-value=0.312).","code":"ltrmst2adapt(indata=cm214_pfs, tau1=3, tau2=10, seed=123) #>  #> RMST over the time window [3,10]  #>  #> RMST(arm1) RMST(arm0)  #>      4.415      4.191  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95         p_value  #>           0.224          -0.209           0.657           0.312"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"implementation-of-adaptive-long-term-rmst-testestimation-methods","dir":"Articles","previous_headings":"","what":"6 Implementation of adaptive Long-Term RMST Test/Estimation Methods","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Instead specifying fixed value \\(\\eta\\), procedure allows us specify set values \\(\\eta\\), say, 0, 1, 2, 3. , second argument (tau1) vector indicating set values lower end time window (\\(\\eta\\)). first, third, fourth arguments specified Section 5. ltrmst2adapt function returns RMST time window [\\(\\tau_{1}^{*}\\), \\(\\tau_{2}\\)] group results -group contrast measure (difference LT-RMSTs), \\(\\tau_{1}^{*}\\) adaptively selected value among specified values tau1. example, 3 selected \\(\\tau_{1}^{*}\\) among candidates (0, 1, 2, 3). estimated LT-RMSTs groups difference ones LT-RMSTs fixed \\(\\eta\\) Section 5. 95% CI difference slightly wider (-0.218 0.666) LT-RMST fixed \\(\\eta\\), p-value also slightly larger (0.332). results suggest efficiency loss adopting flexibility adaptive LT-RMST method remarkable, compared LT-RMST fixed \\(\\eta\\).","code":"ltrmst2adapt(indata=cm214_pfs, tau1=c(0,1,2,3), tau2=10, seed=123) #>  #> RMST over the time window [3,10]  #>  #> RMST(arm1) RMST(arm0)  #>      4.415      4.191  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95         p_value  #>           0.224          -0.218           0.666           0.332"},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"7 Conclusions","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"function, ltrmst2adapt(), survRM2adapt package can easily implement LT-RMST-based statistical comparison pre-specified \\(\\eta\\) also data-dependent choice \\(\\eta\\), called adaptive LT-RMST approach vignette. adaptive LT-RMST approach require users pre-specify single number \\(\\eta\\) rather set candidates \\(\\eta\\), making adaptive LT-RMST approach flexible LT-RMST approach fixed \\(\\eta\\). approaches provide estimates magnitude treatment effect depend study-specific censoring distribution. also offer greater power traditional Cox regression approach detect treatment effect delayed survival benefit expected, thus particularly useful clinical trials evaluating efficacy safety cancer immunotherapies.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"Uno H, Horiguchi M, Hassett MJ (2020). Statistical test/estimation methods used contemporary phase III cancer randomized controlled trials time--event outcomes. Oncologist, 25(2):91-93. https://doi.org/10.1634/theoncologist.2019-0464 Zhao L, Tian L, Uno H, et al (2012). Utilizing integrated difference two survival functions quantify treatment contrast designing, monitoring, analyzing comparative clinical study. Clinical Trials, 9(5):570-7. https://doi.org/10.1177/1740774512455464 Horiguchi M, Tian L, Uno H et al (2018). Quantification long-term survival benefit comparative oncology clinical study. JAMA Oncology, 4(6):881-882. https://doi.org/10.1001/jamaoncol.2018.0518 Horiguchi M, Tian L, Uno H. assessing survival benefit immunotherapy using long-term restricted mean survival time. Statistics Medicine, 42(8):1139-1155. https://doi.org/10.1002/sim.9662 Motzer RJ, Tannir NM, McDermott DF, et al. (2018). Nivolumab plus ipilimumab versus sunitinib advanced renal-cell carcinoma. New England Journal Medicine, 378(14):1277-1290. https://doi.org/10.1056/NEJMoa1712126","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/articles/vignette-survRM2adapt.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes","title":"Vignette for the ltrmst2adapt function in the survRM2adapt package","text":"See also vignette survRM2 package details implementation RMST-based test/estimation approaches. https://cran.r-project.org/web/packages/survRM2/vignettes/survRM2-vignette3-2.html","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Miki Horiguchi. Author, maintainer. Lu Tian. Author. Hajime Uno. Author.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Horiguchi M, Tian L, Uno H (2023). survRM2adapt: Flexible Coherent Test/Estimation Procedure Based Restricted Mean Survival Times. R package version 1.1.0.","code":"@Manual{,   title = {survRM2adapt: Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times},   author = {Miki Horiguchi and Lu Tian and Hajime Uno},   year = {2023},   note = {R package version 1.1.0}, }"},{"path":"https://www.uno1lab.com/survRM2adapt/index.html","id":"survrm2adapt-flexible-and-coherent-testestimation-procedure-based-on-restricted-mean-survival-times","dir":"","previous_headings":"","what":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times","text":"survRM2adapt package includes follwoing two main functions – 1) rmst2adapt 2)ltrmst2adapt. rmst2adapt function estimates restricted mean survival time (RMST) time window [0, tau] (ie, standard RMST), tau selected procedure among time points provided user. details, see Horiguchi et al. (2018) doi:10.1002/sim.7661. ltrmst2adapt function estimates RMST time window [tau1, tau2] (ie, long-term RMST), tau1 selected procedure, . details, see Horiguchi et al. (2023) doi:10.1002/sim.9662.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times","text":"install package CRAN: install updated version:","code":"install.packages(\"survRM2adapt\") devtools::install_github(\"uno1lab/survRM2adapt\")"},{"path":"https://www.uno1lab.com/survRM2adapt/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times","text":"Please see package vignette website https://www.uno1lab.com/survRM2adapt/","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times","text":"Horiguchi M, Cronin , Takeuchi M, Uno H. flexible coherent test/estimation procedure based restricted mean survival times censored time--event data randomized clinical trials. Statistics Medicine 2018;37(15):2307-2320. https://doi.org/doi:10.1002/sim.7661. Horiguchi M, Tian L, Uno H. assessing survival benefit immunotherapy using long-term restricted mean survival time. Statistics Medicine 2023;42(8):1139-1155. https://doi.org/doi:10.1002/sim.9662.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/cm214_pfs.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"progression-free survival data reconstructed publication CheckMate214 study.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/cm214_pfs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"","code":"data(cm214_pfs)"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/cm214_pfs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"dataset containing 3 columns: time time--event variable (time unit month) status event indicator (1=event, 0=censor) arm treatment indicator (1=treatment, 0=control)","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/cm214_pfs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"Motzer RJ, Tannir NM, McDermott DF, et al. Nivolumab plus ipilimumab versus sunitinib advanced renal-cell carcinoma. New England Journal Medicine. 2018;378(14):1277-1290. <doi:10.1056/NEJMoa1712126> Guyot P, Ades AE, Ouwens MJ, Welton NJ. Enhanced secondary analysis survival data: reconstructing data published Kaplan-Meier survival curves. BMC Med Res Methodol. 2012;12(1):9. <doi:10.1186/1471-2288-12-9>","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/cm214_pfs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Reconstructed Data of CheckMate214 Study — cm214_pfs","text":"reconstructed patient-level data results reported Motzer et al.(2018) <doi:10.1056/NEJMoa1712126>. data consists 847 patients previously untreated clear-cell advanced renal-cell carcinoma; 425 nivolumab plus ipilimumab group (treatment) 422 sunitinib group (control).","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":null,"dir":"Reference","previous_headings":"","what":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"function performs method proposed Horiguchi, Tian, Uno. (2023) <doi:10.1002/sim.9662>. Specifically, estimates restricted mean survival time (RMST) within prespecified time window (tau1 tau2) quantify long-term treatment benefit.  Instead choosing one specific time point lower end time window (tau1), procedure allows users prespecify set time points. procedure picks one time point among set tau1 values gives significant difference long-term RMST two groups. performs testing equality long-term RMSTs two groups estimates difference RMST within adaptively selected time window [tau1, tau2] two groups. Multiplicity result specifying several values tau1 taken account procedure.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"","code":"ltrmst2adapt(indata, tau1, tau2, iteration=50000, seed=NULL, test=\"2_side\", conf.int=0.95)"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"indata data matrix (data frame). 1st column time--event variable, 2nd column event indicator (1=event, 0=censor), 3rd column treatment indicator (1=treatment, 0=control). missing values allowed data matrix. tau1 integer value vector indicating set tau1 values lower end time window. tau2 integer value indicating upper end time window. tau2 = NULL, default value used. See Details definition default value tau2. iteration number iterations resampling (multivariate normal distribution-based perturbation method). recommended specify least 50000 (default) larger. seed integer value used random number generation resampling procedure. Default NULL. test Specify \"1_side\" one-sided test alternative hypothesis treatment group superior control group respect survival time.  Specify \"2_side\" two-sided test alternative hypothesis treatment group equal control group respect survival time. Default \"2_side\". conf.int Specify confidence coefficient calculating confidence bands differences long-term RMST. Default 0.95.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"object class ltrmst2adapt. iteration number iterations resampling multivariate normal distribution mean 0 variance-covariance matrix. test type test used analyses arm1 RMST [tau1, tau2] estimation arm1 arm0 RMST [tau1, tau2] estimation arm0 diff10 difference RMST [tau1, tau2] two groups (arm1 minus arm0) diff10_selected difference RMST within selected time window [tau1, tau2] two groups (arm1 minus arm0) normal confidence interval considering randomness selecting one time window. p-value RMST difference test within selected time window [tau1, tau2] also provided.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"definition default value tau2. Let x1 x0 maximum observed time Group 1 Group 0, respectively.  Case 1: last observations Group 1 Group 0 \"event,\" tau = max(x1, x0).  Case 2-1: last observation Group 1 \"event,\" last observation Group 0 \"censor,\" x1 <= x0, tau2 = max(x1, x0) = x0.  Case 2-2: last observation Group 0 \"event,\" last observation Group 1 \"censor,\" x1 > x0, tau2 = max(x1, x0) = x1.  Case 3-1: last observation Group 1 \"event,\" last observation Group 0 \"censor,\" x1 > x0, tau2 = min(x1, x0) = x0.  Case 3-2: last observation Group 0 \"event,\" last observation Group 1 \"censor,\" x1 <= x0, tau2 = min(x1, x0) = x1.  Case 4: last observations Group 1 Group 0 \"censor,\" tau = min(x1, x0).","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"Horiguchi M, Tian L, Uno H. assessing survival benefit immunotherapy using long-term restricted mean survival time. Statistics Medicine 2023. DOI:10.1002/sim.9662.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"Miki Horiguchi, Lu Tian, Hajime Uno","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/ltrmst2adapt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Long-Term Restricted Mean Survival Times with Adaptively Selected Lower End of Time Window — ltrmst2adapt","text":"","code":"#--- sample data ---# data = cm214_pfs b    = ltrmst2adapt(indata=data, tau1=c(0,1,2,3), tau2=10,                 test=\"2_side\", seed=123) print(b) #>  #> RMST over the time window [3,10]  #>  #> RMST(arm1) RMST(arm0)  #>      4.415      4.191  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95         p_value  #>           0.224          -0.218           0.666           0.332  #>  #>"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.ltrmst2adapt.html","id":null,"dir":"Reference","previous_headings":"","what":"print.ltrmst2adapt — print.ltrmst2adapt","title":"print.ltrmst2adapt — print.ltrmst2adapt","text":"S3 method class 'ltrmst2adapt'","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.ltrmst2adapt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"print.ltrmst2adapt — print.ltrmst2adapt","text":"","code":"# S3 method for ltrmst2adapt print(x, digits = 3, ...)"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.ltrmst2adapt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"print.ltrmst2adapt — print.ltrmst2adapt","text":"x Object printed digits Integer indicating number decimal places ... arguments ignored function","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.rmst2adapt.html","id":null,"dir":"Reference","previous_headings":"","what":"print.rmst2adapt — print.rmst2adapt","title":"print.rmst2adapt — print.rmst2adapt","text":"S3 method class 'rmst2adapt'","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.rmst2adapt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"print.rmst2adapt — print.rmst2adapt","text":"","code":"# S3 method for rmst2adapt print(x, digits = 3, ...)"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/print.rmst2adapt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"print.rmst2adapt — print.rmst2adapt","text":"x Object printed digits Integer indicating number decimal places ... arguments ignored function","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":null,"dir":"Reference","previous_headings":"","what":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"function performs procedure proposed Horiguchi et al. (2018) <doi:10.1002/sim.7661>. method specifies set truncation time points, taus, calculating restricted mean survival times (RMST), performs testing equality RMSTs two groups, estimates difference RMST two groups specified tau's. multiplicity result specifying several taus taken account procedure.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"","code":"rmst2adapt(indata, tau_star, method=\"perturbation\", nmethod=100000,         seed=NULL, test=\"2_side\", conf.int=0.95)"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"indata data matrix (data frame). 1st column time--event variable, 2nd column event indicator (1=event, 0=censor), 3rd column treatment indicator (1=treatment, 0=control). missing values allowed data matrix. tau_star vector indicating set tau's. elements tau_star need shorter equal minimum time point largest observed time two groups. method type resampling method. supports \"perturbation\" (default). nmethod number iterations resampling. recommended specify least 100000 (default) larger. seed integer value used random number generation resampling procedures. Default NULL. test Specify \"1_side\" one-sided test alternative hypothesis treatment group superior control group respect survival time. Specify \"2_side\" two-sided test alternative hypothesis treatment group equal control group respect survival time. Default \"2_side\". conf.int Specify confidence coefficient calculating confidence bands differences RMST. Default 0.95.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"object class rmst2adapt. method resampling method used analyses nmethod number iterations resampling test type test used analyses candidate_taus set taus used analyses observed_z observed test statistic Z_star p_value p-value testing equality RMSTs two groups conf_band difference RMST two groups specified taus selected_tau value tau selected summarize treatment effect","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"Horiguchi M, Cronin , Takeuchi M, Uno H. flexible coherent test/estimation procedure based restricted mean survival times censored time--event data randomized clinical trials. Statistics Medicine 2018. doi:10.1002/sim.7661.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"Miki Horiguchi, Hajime Uno","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Restricted Mean Survival Times with Adaptively Selected Truncation Time Point — rmst2adapt","text":"","code":"#--- sample data ---# data    = rmst2adapt.sample.data() nmethod = 100 #This is only for example use.               #Recommended to specify at least 100000 (default) or larger.  a = rmst2adapt(indata=data, tau_star=seq(6,12,2), method=\"perturbation\",                nmethod=nmethod, test=\"2_side\", seed=123) print(a) #>  #> <Test result>  #> Candidate values of tau1: 6 8 10 12  #>  #> P-value: 0.85  #>  #>  #> <Treatment effect estimation>  #> Selected tau: 6  #>  #> RMST(arm1) RMST(arm0)  #>      4.985      4.885  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95  #>           0.100          -0.360           0.561  #>  #>"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.sample.data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a sample data from the pbc data — rmst2adapt.sample.data","title":"Generate a sample data from the pbc data — rmst2adapt.sample.data","text":"function retrieve 312 randomized patients pbc data survival package.","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.sample.data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a sample data from the pbc data — rmst2adapt.sample.data","text":"","code":"rmst2adapt.sample.data()"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.sample.data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a sample data from the pbc data — rmst2adapt.sample.data","text":"function creates sample dataset illustrate usage function rmst2adapt() package. original pbc data survival package consists 418 patients data. function loads pbc data, select 312 patients randomized. status variable edited, 1 indicates death 0 indicates alive.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survRM2adapt/reference/rmst2adapt.sample.data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a sample data from the pbc data — rmst2adapt.sample.data","text":"","code":"D=rmst2adapt.sample.data() head(D) #>        time status arm #> 1  1.095140      1   1 #> 2 12.320329      0   1 #> 3  2.770705      1   1 #> 4  5.270363      1   1 #> 5  4.117728      0   0 #> 6  6.852841      1   0"},{"path":"https://www.uno1lab.com/survRM2adapt/reference/survRM2adapt-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times — survRM2adapt-package","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times — survRM2adapt-package","text":"Estimates restricted mean survival time (RMST) time window [0, tau], tau selected procedure among time points provided user. also estimates RMST time window [tau1, tau2], tau1 selected procedure, .","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/survRM2adapt-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times — survRM2adapt-package","text":"Horiguchi M, Cronin , Takeuchi M, Uno H. flexible coherent test/estimation procedure based restricted mean survival times censored time--event data randomized clinical trials. Statistics Medicine 2018. DOI:10.1002/sim.7661. Horiguchi M, Tian L, Uno H. assessing survival benefit immunotherapy using long-term restricted mean survival time. Statistics Medicine 2023. DOI:10.1002/sim.9662.","code":""},{"path":[]},{"path":"https://www.uno1lab.com/survRM2adapt/reference/survRM2adapt-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times — survRM2adapt-package","text":"Miki Horiguchi, Lu Tian, Hajime Uno Maintainer: Miki Horiguchi <horiguchimiki@gmail.com>","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/reference/survRM2adapt-package.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flexible and Coherent Test/Estimation Procedure Based on Restricted Mean Survival Times — survRM2adapt-package","text":"","code":"#--- Adaptive RMST test/estimation method by rmst2adapt() ---# data    = rmst2adapt.sample.data() nmethod = 100 #This is only for example use.               #Recommended to specify at least 100000 (default) or larger.  a       = rmst2adapt(indata=data, tau_star=seq(6,12,2), method=\"perturbation\",                nmethod=nmethod, test=\"2_side\", seed=123) print(a) #>  #> <Test result>  #> Candidate values of tau1: 6 8 10 12  #>  #> P-value: 0.85  #>  #>  #> <Treatment effect estimation>  #> Selected tau: 6  #>  #> RMST(arm1) RMST(arm0)  #>      4.985      4.885  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95  #>           0.100          -0.360           0.561  #>  #>   #--- Adaptive long-term RMST test/estimation method by ltrmst2adapt() ---# data    = cm214_pfs b       = ltrmst2adapt(indata=data, tau1=c(0,1,2,3), tau2=10,                 test=\"2_side\", seed=123) print(b) #>  #> RMST over the time window [3,10]  #>  #> RMST(arm1) RMST(arm0)  #>      4.415      4.191  #>  #> RMST(arm1-arm0)      lower 0.95      upper 0.95         p_value  #>           0.224          -0.218           0.666           0.332  #>  #>"},{"path":[]},{"path":"https://www.uno1lab.com/survRM2adapt/news/index.html","id":"major-edits-1-1-0","dir":"Changelog","previous_headings":"","what":"Major edits","title":"survRM2adapt 1.1.0","text":"Added ltrmst2adapt function estimating long-term restricted mean survival time adaptively selected lower end time window (tau1 RMST[tau1, tau2]) Modified title rmst2adapt function Removed estimation treatment effect based permutation method rmst2adapt function Edited DESCRIPTION file Edited NAMESPACE file Edited survRM2adapt-package.R","code":""},{"path":"https://www.uno1lab.com/survRM2adapt/news/index.html","id":"survrm2adapt-10-1","dir":"Changelog","previous_headings":"","what":"survRM2adapt 1.0-1","title":"survRM2adapt 1.0-1","text":"CRAN release: 2018-05-08 Initial release","code":""}]
